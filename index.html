<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Witzebot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        #chatbox {
            border: 1px solid #ccc;
            padding: 10px;
            height: 300px;
            overflow-y: scroll;
            background: white;
        }
        #userInput {
            margin-top: 10px;
            width: 80%;
        }
        #sendButton {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Witzebot ðŸ¤–</h1>
    <div id="chatbox"></div>
    <input type="text" id="userInput" placeholder="Frag mich nach einem Witz!" />
    <button id="sendButton">Senden</button>

    <script>
        const jokes = [
            "Warum kÃ¶nnen Geister so schlecht lÃ¼gen? Weil man durch sie hindurchsehen kann!",
            "Was macht ein Pirat am Computer? Er drÃ¼ckt die Enter-Taste!",
            "Warum kÃ¶nnen Elefanten nicht fliegen? Weil sie keinen FlugzeugfÃ¼hrerschein haben!",
            "Wie nennt man einen Bumerang, der nicht zurÃ¼ckkommt? Stock!",
            "Warum sind MathebÃ¼cher so traurig? Weil sie zu viele Probleme haben!",
            "Was macht ein Keks am Computer? Er drÃ¼ckt die Leertaste!",
            "Wie nennt man einen Hund ohne Beine? Egal, er kommt sowieso nicht!",
            "Was ist rot und schlecht fÃ¼r die ZÃ¤hne? Ein Ziegelstein!",
            "Was ist grÃ¼n und steht am StraÃŸenrand? Eine schÃ¼chterne Gurke!",
            "Warum schÃ¼ttelt der Lehrer die Uhr? Weil er die Zeit nicht verlieren will!"
        ];

        let lastJokes = [];

        function tellJoke() {
            // Filtere bereits genutzte Witze
            let available = jokes.filter(joke => !lastJokes.includes(joke));
            if (available.length === 0) {
                lastJokes = [];
                available = [...jokes];
            }

            const randomJoke = available[Math.floor(Math.random() * available.length)];
            lastJokes.push(randomJoke);

            // Speichere nur die letzten 5 genutzten Witze zur Wiederholungsvermeidung
            if (lastJokes.length > 5) lastJokes.shift();

            return randomJoke;
        }

        document.getElementById("sendButton").onclick = function () {
            const input = document.getElementById("userInput").value.trim().toLowerCase();
            const chatbox = document.getElementById("chatbox");

            chatbox.innerHTML += `<div><strong>Du:</strong> ${input}</div>`;

            if (input.includes("witz")) {
                const joke = tellJoke();
                chatbox.innerHTML += `<div><strong>Bot:</strong> ${joke}</div>`;
            } else {
                chatbox.innerHTML += `<div><strong>Bot:</strong> Frag mich nach einem Witz!</div>`;
            }

            document.getElementById("userInput").value = "";
            chatbox.scrollTop = chatbox.scrollHeight;
        };
    </script>
</body>
</html>
